
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.4">
    
    
      
        <title>Bestandteile der Applikation - edi.substanceforms</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.db9e7362.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bestandteile-der-applikation-module-und-klassen" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="edi.substanceforms" class="md-header__button md-logo" aria-label="edi.substanceforms" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            edi.substanceforms
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bestandteile der Applikation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="edi.substanceforms" class="md-nav__button md-logo" aria-label="edi.substanceforms" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    edi.substanceforms
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ausgang/" class="md-nav__link">
        Ausgangssituation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zielsetzung/" class="md-nav__link">
        Zielsetzung
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../anforderungen/" class="md-nav__link">
        Anforderungsanalye
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Bestandteile der Applikation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bestandteile der Applikation
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#artikeltypen-fur-die-pflege-von-inhalten" class="md-nav__link">
    Artikeltypen für die Pflege von Inhalten
  </a>
  
    <nav class="md-nav" aria-label="Artikeltypen für die Pflege von Inhalten">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datenbank" class="md-nav__link">
    Datenbank
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabelle" class="md-nav__link">
    Tabelle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formulare" class="md-nav__link">
    Formulare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-die-datenbank" class="md-nav__link">
    Einzelansicht für die Datenbank
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-die-tabelle" class="md-nav__link">
    Einzelansicht für die Tabelle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-hersteller-und-gefahrstoffprodukte" class="md-nav__link">
    Einzelansicht für Hersteller und Gefahrstoffprodukte
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funktionale-views" class="md-nav__link">
    Funktionale Views
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hier-seppos-inhalte-die-noch-in-die-richtige-struktur-eingeordnet-werden-mussen" class="md-nav__link">
    Hier Seppos Inhalte, die noch in die richtige Struktur eingeordnet werden müssen.
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aufbau/" class="md-nav__link">
        Aufbau des Software-Packages
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tests/" class="md-nav__link">
        Automatische Testverfahren
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../plone/" class="md-nav__link">
        Installation und Konfiguration im CMS Plone
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lizenz/" class="md-nav__link">
        Lizenz
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#artikeltypen-fur-die-pflege-von-inhalten" class="md-nav__link">
    Artikeltypen für die Pflege von Inhalten
  </a>
  
    <nav class="md-nav" aria-label="Artikeltypen für die Pflege von Inhalten">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datenbank" class="md-nav__link">
    Datenbank
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabelle" class="md-nav__link">
    Tabelle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formulare" class="md-nav__link">
    Formulare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-die-datenbank" class="md-nav__link">
    Einzelansicht für die Datenbank
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-die-tabelle" class="md-nav__link">
    Einzelansicht für die Tabelle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#einzelansicht-fur-hersteller-und-gefahrstoffprodukte" class="md-nav__link">
    Einzelansicht für Hersteller und Gefahrstoffprodukte
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funktionale-views" class="md-nav__link">
    Funktionale Views
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hier-seppos-inhalte-die-noch-in-die-richtige-struktur-eingeordnet-werden-mussen" class="md-nav__link">
    Hier Seppos Inhalte, die noch in die richtige Struktur eingeordnet werden müssen.
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset"><a class="md-content__button md-icon" download href="../pdf/combined.pdf" title="PDF Export"><svg style="height: 1.2rem; width: 1.2rem;" viewBox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"></path></svg></a>
              
                
                
                <h1 id="bestandteile-der-applikation-module-und-klassen">Bestandteile der Applikation (Module und Klassen)</h1>
<p>Alle entwickelten Bestandteile des Projekts befinden sich im Plone-Add-On 
<strong>edi.substanceforms</strong>. Dieses Add-on beinhaltet beinhaltet Artikeltypen 
Content-Types (Artikeltypen), mit denen in Plone die Inhalte der Seiten gepflegt werden,
sowie alle benötigten Formulare und Ansichten (Forms und Views), für das Management
der Chemikalienprodukte mit dem CMS Plone. Die Bestandteile der Applikation werden
in den folgenden Abschnitten detaillierter beschrieben.</p>
<h2 id="artikeltypen-fur-die-pflege-von-inhalten">Artikeltypen für die Pflege von Inhalten</h2>
<p>Die Content-Types haben für die Autoren und Redakteure eine besondere Bedeutung.
Mit deren Hilfe werden in der Struktur der Plone-Site Inhalte angelegt um diese
für Benutzerinnen und Benutzer zu präsentieren.</p>
<p>Daneben können in den Content-Types Daten gespeichert werden, die für die Steuerung
der Anwendung benötigt werden. Das Package edi.substanceforms beinhaltet folgende
Content-Types:</p>
<h3 id="datenbank">Datenbank</h3>
<p>Die Datenbank <strong>Emissionsarme Produkte</strong> kann mit diesem Artikeltyp an beliebiger
Stelle in der Inhaltsstruktur der Website eingebunden werden. Die Autoren und Redakteure
können mit entsprechenden Feldern die Datenbank beschreiben und für die Benutzerinnen
und Benutzer präsentieren. Außerdem stellt die Datenbank die technische Verbindung
zur physikalischen Datenbank her. D.h. es werden mit diesem Artikeltyp alle notwendigen
Parameter für die Verbindung zur Datenbank gespeichert.</p>
<p>Aus der Sicht des Web-CMS-Plone stellt die Datenbank einen Ordnertyp dar in dem Objekte
vom Content-Type Tabelle gespeichert werden.</p>
<h3 id="tabelle">Tabelle</h3>
<p>Der Content-Typ Tabelle stellt die technische Verbindung zu den Tabellen der physikalischen
Datenbank her. Bereits beim Anlegen des Content-Types in Plone wird der Autor und Redakteur
gefragt, welche der Tabellen der Datenbank angezeigt werden soll. Mit dem Content-Typ Tabelle
wird die Absicht verfolgt im Context einer Tabelle die darin gespeicherten Datensätze
anzuzeigen als wären sie selbst als Objekte im CMS Plone gespeichert.</p>
<p>Aus der Sicht des Web-CMS Plone stellt die Datenbank ebenfalls einen Ordnertyp dar, in dem
Dateiobjekte (Bilder, PDF-Dateien) gespeichert werden, die für die Präsentation der Datensätze,
also z.B. Hersteller, Chemikalienprodukte benötigt werden. Für die Speicherung dieser Objekte
wird ganz bewusst die objektorientierte Datenbank genutzt. In den Datensätzen werden Referenzen
zu den Dateiobjekten gehalten.</p>
<h2 id="formulare">Formulare</h2>
<p>Formulare werden nach dem CRUD-Begriff (<strong>CR</strong>eate, <strong>U</strong>pdate, <strong>D</strong>elete)  für folgende 
Anwendungsfälle benötigt:</p>
<p>Hinzufügen von Datensätzen in die Datenbank (create)
Aktualisierung von Datensätzen in der Datenbank (update)</p>
<p>Das Löschen von Datensätzen wird mit einem funktionalen View realisiert.</p>
<p>Ausserdem wird ein Formular für die Suche von Datensätzen in der Datenbank benötigt.</p>
<h2 id="views">Views</h2>
<h3 id="einzelansicht-fur-die-datenbank">Einzelansicht für die Datenbank</h3>
<p>Sinn: Listing der Tabellen, die ihrerseits wiederum Hersteller oder Chemikalienprodukte
repräsentieren</p>
<h3 id="einzelansicht-fur-die-tabelle">Einzelansicht für die Tabelle</h3>
<p>Sinn: Suchforms für die Hersteller oder Chemikalienprodukte und Listing der Treffer</p>
<h3 id="einzelansicht-fur-hersteller-und-gefahrstoffprodukte">Einzelansicht für Hersteller und Gefahrstoffprodukte</h3>
<h3 id="funktionale-views">Funktionale Views</h3>
<ul>
<li>Delete View</li>
<li>...</li>
</ul>
<h2 id="hier-seppos-inhalte-die-noch-in-die-richtige-struktur-eingeordnet-werden-mussen">Hier Seppos Inhalte, die noch in die richtige Struktur eingeordnet werden müssen.</h2>
<p>Mein Projekt beinhaltet hier die 
Entwicklung aller Einzelansichten und Formulare, wehalb ich auf die 
anderen  Bestandteile des Add-Ons nicht mehr weiter eingehen werden.
Das Projekt beinhaltet nun also die folgende Module:</p>
<p>Viewklassen:
single_view.py</p>
<p>Page-Templates für Einzelansichten:
substance_view.pt
substane_mixture.pt
manufacturer_view.pt
spray_powder_view.pt</p>
<p>Add / Update-Forms:
create_substance_form.py
create_mixture_form.py
create_manufacturer_form.py
create_powder_form.py
create_ingredient_view.py</p>
<p>Page-Template für Add/Update-Forms:
create_view.pt</p>
<p>single_view.py enthält die Klasse SingleView, welche für alle 
Einzelansichten die zugrunde liegende Viewklasse darstellt. Diese Klasse 
enthält zahlreiche Methoden zur Aufbereitung von aus der Datenbank 
geladenen Trefferlisten, die in den unterschiedlichen Einzelansichten 
dann aufgerufen werden. Die Bestandteile dieser und weiterer Klassen 
sind den Klassendiagrammen zu entnehmen.</p>
<p>Die für alle Produkte individuellen Page-Templates dienen zur Anzeige 
von Treffertabellen, die ihre Werte aus der Datenbank entnehmen. Muss 
ein Wert aufbereitet werden (kommt beispielsweise True/False zurück und 
soll nach Ja/Nein umgewandelt werden) wird eine Methode des single_view 
gerufen und der Rohwert übergeben.</p>
<p>Die Add / Updateforms (beispielsweise create_substance_form.py) enhalten 
jeweils zwei Klassen mit den Namen CreateFormView und UpdateFormView, 
welche Methoden enthalten die das Schreiben der Werte in die Datenbank 
übernehmen oder die Belegung mit Standardwerten übernehmen. In diesen 
Klassen wird eine FormClass referenziert, von der wir 2 Stück haben- 
eine CreateForm und eine UpdateForm. In diesen Formklassen werden alle 
Felder definiert die zur Anzeige gebracht werden sollen, beispielsweise 
der Name des Gefahrstoffes. So referenziert also die Klasse 
CreateFormView die Form-Klasse CreateForm, zeigt alle Felder an und 
übernimmt bei Drücken des Speichern-Knopfes das Datenbankhandling. Wird 
die Klasse UpdateForm nun aber instanziert, ist das Verfahren sehr 
ähnlich, jedoch werden hier die Felder die auch schon in der CreateForm 
zu finden sind mit Standardwerten belegt, also die Werte die zu den 
entsprechenden Feldern in der Datenbank gespeichert sind. Bei Druck des 
Speichern-Knopfes wird nun der entsprechende Datenbankeintrag 
aktualisiert, es werden also alle Werte mit den neuen Werten in der Form 
überschrieben.</p>
<p>Das Page-Template für alle Create/Updateforms ist create_view.pt und 
wird dynamisch auf Basis der Formklassen erzeugt.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../anforderungen/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Anforderungsanalye" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Anforderungsanalye
            </div>
          </div>
        </a>
      
      
        
        <a href="../aufbau/" class="md-footer__link md-footer__link--next" aria-label="Next: Aufbau des Software-Packages" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Aufbau des Software-Packages
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.1e84347e.min.js"></script>
      
    
  </body>
</html>