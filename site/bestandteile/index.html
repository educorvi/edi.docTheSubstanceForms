
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.2.3, mkdocs-material-7.3.4" name="generator"/>
<title>Bestandteile der Applikation - edi.substanceforms</title>
<link href="../assets/stylesheets/main.db9e7362.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#bestandteile-der-applikation-module-und-klassen">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="edi.substanceforms" class="md-header__button md-logo" data-md-component="logo" href=".." title="edi.substanceforms">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            edi.substanceforms
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Bestandteile der Applikation
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="edi.substanceforms" class="md-nav__button md-logo" data-md-component="logo" href=".." title="edi.substanceforms">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    edi.substanceforms
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ausgang/">
        Ausgangssituation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../zielsetzung/">
        Zielsetzung
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../anforderungen/">
        Anforderungsanalye
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Bestandteile der Applikation
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Bestandteile der Applikation
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#artikeltypen-fur-die-pflege-von-inhalten">
    Artikeltypen für die Pflege von Inhalten
  </a>
<nav aria-label="Artikeltypen für die Pflege von Inhalten" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datenbank">
    Datenbank
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabelle">
    Tabelle
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#formulare">
    Formulare
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#views">
    Views
  </a>
<nav aria-label="Views" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-die-datenbank">
    Einzelansicht für die Datenbank
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-die-tabelle">
    Einzelansicht für die Tabelle
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-hersteller-und-gefahrstoffprodukte">
    Einzelansicht für Hersteller und Gefahrstoffprodukte
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funktionale-views">
    Funktionale Views
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aufbau/">
        Aufbau des Software-Packages
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tests/">
        Automatische Testverfahren
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../plone/">
        Installation und Konfiguration im CMS Plone
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lizenz/">
        Lizenz
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10">
          Anhang
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Anhang" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          Anhang
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../anhang1/">
        Anhang 1
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#artikeltypen-fur-die-pflege-von-inhalten">
    Artikeltypen für die Pflege von Inhalten
  </a>
<nav aria-label="Artikeltypen für die Pflege von Inhalten" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datenbank">
    Datenbank
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabelle">
    Tabelle
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#formulare">
    Formulare
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#views">
    Views
  </a>
<nav aria-label="Views" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-die-datenbank">
    Einzelansicht für die Datenbank
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-die-tabelle">
    Einzelansicht für die Tabelle
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#einzelansicht-fur-hersteller-und-gefahrstoffprodukte">
    Einzelansicht für Hersteller und Gefahrstoffprodukte
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funktionale-views">
    Funktionale Views
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="bestandteile-der-applikation-module-und-klassen">Bestandteile der Applikation (Module und Klassen)</h1>
<p>Alle entwickelten Bestandteile des Projekts befinden sich im Plone-Add-On 
<strong>edi.substanceforms</strong>. Dieses Add-on beinhaltet beinhaltet Artikeltypen 
Content-Types (Artikeltypen), mit denen in Plone die Inhalte der Seiten gepflegt werden,
sowie alle benötigten Formulare und Ansichten (Forms und Views), für das Management
der Chemikalienprodukte mit dem CMS Plone. Die Bestandteile der Applikation werden
in den folgenden Abschnitten detaillierter beschrieben.</p>
<p>Für die Erstellung der Plone-Inhaltstypen (Content-Types, Viewklassen, Viewtemplates...) kommt der Generator <strong>mrbob</strong> zum Einsatz. Dieser ermöglicht den Fokus auf die essentielle Programmierung und Anpassung der Inhaltstypen durch massive Zeitersparnisse gegenüber des manuellen Anlegens.</p>
<h2 id="artikeltypen-fur-die-pflege-von-inhalten">Artikeltypen für die Pflege von Inhalten</h2>
<p>Die Content-Types haben für die Autoren und Redakteure eine besondere Bedeutung.
Mit deren Hilfe werden in der Struktur der Plone-Site Inhalte angelegt um diese
für Benutzerinnen und Benutzer zu präsentieren.</p>
<p>Daneben können in den Content-Types Daten gespeichert werden, die für die Steuerung
der Anwendung benötigt werden. Das Package edi.substanceforms beinhaltet folgende
Content-Types:</p>
<h3 id="datenbank">Datenbank</h3>
<p>Die Datenbank <strong>Emissionsarme Produkte</strong> kann mit diesem Artikeltyp an beliebiger
Stelle in der Inhaltsstruktur der Website eingebunden werden. Die Autoren und Redakteure
können mit entsprechenden Feldern die Datenbank beschreiben und für die Benutzerinnen
und Benutzer präsentieren. Außerdem stellt die Datenbank die technische Verbindung
zur physikalischen Datenbank her. D.h. es werden mit diesem Artikeltyp alle notwendigen
Parameter für die Verbindung zur Datenbank gespeichert.</p>
<p>Aus der Sicht des Web-CMS-Plone stellt die Datenbank einen Ordnertyp dar in dem Objekte
vom Content-Type Tabelle gespeichert werden.</p>
<h3 id="tabelle">Tabelle</h3>
<p>Der Content-Typ Tabelle stellt die technische Verbindung zu den Tabellen der physikalischen
Datenbank her. Bereits beim Anlegen des Content-Types in Plone wird der Autor und Redakteur
gefragt, welche der Tabellen der Datenbank angezeigt werden soll. Mit dem Content-Typ Tabelle
wird die Absicht verfolgt im Context einer Tabelle die darin gespeicherten Datensätze
anzuzeigen als wären sie selbst als Objekte im CMS Plone gespeichert.</p>
<p>Aus der Sicht des Web-CMS Plone stellt die Datenbank ebenfalls einen Ordnertyp dar, in dem
Dateiobjekte (Bilder, PDF-Dateien) gespeichert werden, die für die Präsentation der Datensätze,
also z.B. Hersteller, Chemikalienprodukte benötigt werden. Für die Speicherung dieser Objekte
wird ganz bewusst die objektorientierte Datenbank genutzt. In den Datensätzen werden Referenzen
zu den Dateiobjekten gehalten.</p>
<h2 id="formulare">Formulare</h2>
<p>Formulare werden nach dem CRUD-Begriff (<strong>CR</strong>eate, <strong>U</strong>pdate, <strong>D</strong>elete)  für folgende 
Anwendungsfälle benötigt:</p>
<p>Hinzufügen von Datensätzen in die Datenbank (create)
Aktualisierung von Datensätzen in der Datenbank (update)</p>
<p>Das Löschen von Datensätzen wird mit einem funktionalen View realisiert.</p>
<p>Ausserdem wird ein Formular für die Suche von Datensätzen in der Datenbank benötigt.</p>
<h2 id="views">Views</h2>
<h3 id="einzelansicht-fur-die-datenbank">Einzelansicht für die Datenbank</h3>
<p>In der Einzelansicht für die Datenbank (datanbank_view.pt) werden vorher zum CMS hinzugefügte Tabellen der Datenbank angezeigt. Eine Tabelle repräsentiert ihrerseits Hersteller oder Chemikalienprodukte.</p>
<h3 id="einzelansicht-fur-die-tabelle">Einzelansicht für die Tabelle</h3>
<p>Die Einzelansicht für die Tabelle (tabelle_view.pt) dient dem Listing aller Datensätze in der Tabelle und enthält entsprechende Suchparameter, nach denen die Trefferliste bei Bedarf gefiltert werden kann. So ist beispielsweise der Ausschluss aller Gefahrstoffgemische möglich, die nicht als Sonderreiniger definiert sind.</p>
<h3 id="einzelansicht-fur-hersteller-und-gefahrstoffprodukte">Einzelansicht für Hersteller und Gefahrstoffprodukte</h3>
<p>Für jede Art von Produkten gibt es ein individuelles Viewtemplate. In diesem Viewtemplate wird eine Tabelle erzeugt, in der die entsprechenden Eigenschaften des Produktes zur Anzeige gebracht werden. Außerdem erfolgt hier die Darstellung der gespeicherten Bilder. Folgende Viewtemplates sind vorhanden:</p>
<ul>
<li>substance_view.pt</li>
<li>substance_mixture_view.pt</li>
<li>spray_powder_view.pt</li>
<li>manufacturer_view.pt</li>
</ul>
<p>Viele in der Datenbank gespeicherte Werte sind nicht lesbar. Daher erfolgt in der Viewklasse single_view.py, welche allen Einzelansichten zugrunde liegt, die Key-Value-Zuweisung und die Übersetzung von Werten.</p>
<h2 id="funktionale-views">Funktionale Views</h2>
<p>Ein funktionaler View zeichnet sich dadurch aus, entweder kein eigenes Template zu besitzen, oder eines das auf die Bestätigung einer Aktion beschränkt ist. Zu den funktionalen Views gehören:</p>
<ul>
<li>Delete View</li>
<li>single-View</li>
<li>...</li>
</ul>
<p>So besitzt bespielsweise der Delete View ein Template zur Bestätigung des Löschens des Artikels per Auswahl einer Checkbox, während in den single-view alle Methoden der Einzelansichten ausgelagert wurden.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Anforderungsanalye" class="md-footer__link md-footer__link--prev" href="../anforderungen/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Anforderungsanalye
            </div>
</div>
</a>
<a aria-label="Next: Aufbau des Software-Packages" class="md-footer__link md-footer__link--next" href="../aufbau/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Aufbau des Software-Packages
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
            Material for MkDocs
          </a>
 ... <a class="link--pdf-download" download href="../pdf/document.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
<script src="../assets/javascripts/bundle.1e84347e.min.js"></script>
</body>
</html>